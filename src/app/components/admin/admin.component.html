<div class="container mt-4">
  <h2 class="mb-3">Admin Panel</h2>

  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" class="row g-3">
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        formControlName="title"
        placeholder="Title"
        required
      />
    </div>
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        formControlName="company"
        placeholder="Company"
      />
    </div>
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        formControlName="role"
        placeholder="Role"
      />
    </div>
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        formControlName="duration"
        placeholder="Duration"
      />
    </div>
    <div class="col-12">
      <input
        type="text"
        class="form-control"
        formControlName="techStack"
        placeholder="Tech Stack"
      />
    </div>
    <div class="col-12">
      <textarea
        class="form-control"
        rows="3"
        formControlName="description"
        placeholder="Description"
      ></textarea>
    </div>
    <div class="col-12">
      <input
        type="text"
        class="form-control"
        formControlName="link"
        placeholder="Project Link"
      />
    </div>
    <div class="col-12">
      <button type="submit" class="btn btn-success me-2">
        {{ editing ? "Update" : "Add" }} Project
      </button>
      <button
        *ngIf="editing"
        type="button"
        class="btn btn-secondary"
        (click)="cancelEdit()"
      >
        Cancel
      </button>
    </div>
  </form>

  <hr class="my-4" />

  <h3 class="mb-3">Project List</h3>
  <input
    type="text"
    class="form-control mb-3"
    [formControl]="filterControl"
    placeholder="Filter by title or company"
  />

  <ul class="list-group">
    <li
      *ngFor="let p of filteredProjects()"
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <div>
        <strong>{{ p.title }}</strong> at {{ p.company }}
      </div>
      <div>
        <button
          class="btn btn-sm btn-outline-primary me-2"
          (click)="editProject(p)"
        >
          Edit
        </button>
        <button
          class="btn btn-sm btn-outline-danger"
          (click)="deleteProject(p.id)"
        >
          Delete
        </button>
      </div>
    </li>
  </ul>
</div>
